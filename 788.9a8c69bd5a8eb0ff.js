"use strict";(self.webpackChunkSantosCustom=self.webpackChunkSantosCustom||[]).push([[788],{9788:(W,v,o)=>{o.r(v),o.d(v,{CheckingModule:()=>d});var h=o(6895),c=o(7825),y=o(5226),s=o.n(y),e=o(8256),_=o(6990),E=o(9019),R=o(529);class l{constructor(n){this.http=n}deleteRenting(n){return this.http.delete(E.N.urlApi+"Renting/"+n)}}l.\u0275fac=function(n){return new(n||l)(e.LFG(R.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});var f=o(7050),Z=o(4696),b=o(5227),x=o(5569),T=o(805);const S=function(i){return["/cars/car",i]};function U(i,n){if(1&i&&e._UZ(0,"img",19),2&i){const t=n.$implicit,a=e.oxw(3);e.Q6J("routerLink",e.VKq(2,S,a.car.num_bastidor))("src",t.img,e.LSH)}}function I(i,n){1&i&&(e.TgZ(0,"div",20),e._UZ(1,"span",21),e.qZA())}const k=function(){return{"max-width":"420px"}};function w(i,n){if(1&i&&(e.TgZ(0,"p-galleria",16),e.YNc(1,U,1,4,"ng-template",17),e.YNc(2,I,2,0,"ng-template",18),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("value",t.car.listImages)("containerStyle",e.DdM(6,k))("numVisible",3)("showIndicatorsOnItem",!0)("showIndicators",!0)("showThumbnails",!1)}}function L(i,n){1&i&&e._UZ(0,"img",24),2&i&&e.Q6J("src",n.$implicit.img,e.LSH)}function q(i,n){if(1&i&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("src",t.img,e.LSH)}}const N=function(){return{"max-width":"640px"}};function O(i,n){if(1&i&&(e.TgZ(0,"p-galleria",22),e.YNc(1,L,1,1,"ng-template",17),e.YNc(2,q,2,1,"ng-template",23),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("value",t.car.listImages)("autoPlay",!0)("circular",!0)("numVisible",5)("containerStyle",e.DdM(5,N))}}function D(i,n){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,w,3,7,"p-galleria",12),e.YNc(2,O,3,6,"p-galleria",13),e.TgZ(3,"h5",14)(4,"b"),e._uU(5,"Marca: "),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"p",15)(8,"b"),e._uU(9,"Modelo: "),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"p",15)(12,"b"),e._uU(13,"N\xfamero de bastidor: "),e.qZA(),e._uU(14),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.car.listImages.length<=3),e.xp6(1),e.Q6J("ngIf",t.car.listImages.length>3),e.xp6(4),e.Oqu(t.car.name_exemplary.name_brand.name_brand),e.xp6(4),e.Oqu(t.car.name_exemplary.name_exemplary),e.xp6(4),e.Oqu(t.car.num_bastidor)}}const M=function(i){return["/checking/renovation",i]},V=function(){return["/cars/listCar"]};function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",29)(2,"div",3)(3,"div",30)(4,"div",31)(5,"div",32)(6,"h4"),e._uU(7,"Eliminar Renting"),e.qZA()(),e.TgZ(8,"div",33),e._UZ(9,"img",34),e.TgZ(10,"div",35)(11,"p"),e._uU(12,"Esta opci\xf3n eliminar\xe1 el Renting, de manera que finalizar\xe1 el contrato actual y la asociaci\xf3n del cliente al veh\xedculo que posee actualmente cuando acabe su periodo de Renting."),e.qZA()(),e._UZ(13,"div",36),e.TgZ(14,"div",37)(15,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteRenting())}),e._uU(16,"Eliminar Renting"),e.qZA()()()()(),e.TgZ(17,"div",30)(18,"div",31)(19,"div",32)(20,"h4"),e._uU(21,"Renovar Renting"),e.qZA()(),e.TgZ(22,"div",33),e._UZ(23,"img",39),e.TgZ(24,"div",35)(25,"p"),e._uU(26," Esta opci\xf3n redireccionar\xe1 al sitio web para elegir el nuevo plan deseado, una vez all\xed se realizar\xe1 el nuevo Renting, actualizando la fecha de finalizaci\xf3n."),e.qZA()(),e._UZ(27,"div",36),e.TgZ(28,"div",40)(29,"button",41),e._uU(30,"Renovar Renting"),e.qZA()()()()(),e.TgZ(31,"div",30)(32,"div",31)(33,"div",32)(34,"h4"),e._uU(35,"Comprar Veh\xedculo"),e.qZA()(),e.TgZ(36,"div",33),e._UZ(37,"img",42),e.TgZ(38,"div",35)(39,"p"),e._uU(40," Realizar\xe1 la compra del veh\xedculo con un descuento de 100\u20ac por a\xf1o mantenido en Renting"),e.qZA()(),e._UZ(41,"div",43),e.TgZ(42,"div",37)(43,"button",44),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.purchaseVehicle())}),e._uU(44,"Comprar Veh\xedculo"),e.qZA()()()()(),e.TgZ(45,"div",30)(46,"div",31)(47,"div",32)(48,"h4"),e._uU(49,"Cambiar Renting"),e.qZA()(),e.TgZ(50,"div",33),e._UZ(51,"img",45),e.TgZ(52,"div",35)(53,"p"),e._uU(54," Esta opci\xf3n eliminar\xe1 el Renting actual y redireccionar\xe1 al listado para seleccionar un nuevo Renting deseado."),e.qZA()(),e._UZ(55,"div",36),e.TgZ(56,"div",37)(57,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeRenting())}),e._uU(58,"Cambiar Veh\xedculo"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(29),e.Q6J("routerLink",e.VKq(2,M,t.renting.id)),e.xp6(28),e.Q6J("routerLink",e.DdM(4,V))}}function j(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,J,59,5,"section",28),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.car)}}class g{constructor(n,t,a,r,m){this.route=n,this.carService=t,this.checkingService=a,this.shoppingService=r,this.router=m}ngOnInit(){this.route.queryParams.subscribe(n=>{this.num_bastidor=n.car,this.id=n.car,this.username=n.username,console.log(this.num_bastidor,this.id,this.username),this.shoppingService.getRenting(this.id).subscribe({next:t=>{this.car=t.num_bastidor,this.renting=t}})})}deleteRenting(){let n=this.renting.id.toString();this.checkingService.deleteRenting(n).subscribe({next:t=>{s().fire({icon:"success",title:"Renting Eliminado!",text:"Estas de vuelta en el listado!"}),this.router.navigate(["/cars/listCar"])},error:t=>{s().fire({icon:"error",title:"Oops...",text:"No se ha podido eliminar el renting!",footer:'<a href="">Why do I have this issue?</a>'})}})}changeRenting(){let n=this.renting.id.toString();this.checkingService.deleteRenting(n).subscribe({next:t=>{s().fire({icon:"success",title:"El renting actual, est\xe1 suspendido, elija nuevo coche!",text:"Estas de vuelta en el listado para elegir nuevo Renting!"}),this.router.navigate(["/cars/listCar"])},error:t=>{s().fire({icon:"error",title:"Oops...",text:"No se ha podido eliminar el renting!",footer:'<a href="">Why do I have this issue?</a>'})}})}purchaseVehicle(){let n=new Date(this.renting.date_start);var t=new Date(this.renting.date_end),a=t.getFullYear()-n.getFullYear();t<new Date(n.getFullYear()+a,n.getMonth(),n.getDate())&&a--;let r,m=this.renting.id.toString(),Q=a.toString(),A=this.car.price*(.1*a),K=this.car.price-A;s().fire({title:"Seguro que quiere realizar la compra?",text:"El precio con el descuento por a\xf1o aplicado es de: "+A+"\u20ac , en total ser\xedan "+K+"\u20ac",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, comprar!"}).then($=>{$.isConfirmed&&this.shoppingService.PurchaseCar(this.car,m,this.username,Q).subscribe({next:C=>{r=C.price,this.router.navigate(["/cars/listCar"]),s().fire("Gracias por su compra!","Recibir\xe1 su coche en unos dias.","success")},error:C=>{s().fire({icon:"error",title:"Oops...",text:"No se ha podido realizar la compra!",footer:"Pruebe en otro momento"})}})})}}g.\u0275fac=function(n){return new(n||g)(e.Y36(c.gz),e.Y36(_.y),e.Y36(l),e.Y36(f.s),e.Y36(c.F0))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-checking-renting"]],decls:18,vars:2,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],[2,"background-color","#eee"],[1,"container","pt-5"],[1,"row"],[1,"col-4"],[1,"col-8"],[1,"col-lg-4"],[1,"card","mb-4"],["class","card-body text-center",4,"ngIf"],["class","col-lg-8",4,"ngIf"],[1,"separacion"],[1,"card-body","text-center"],["indicatorsPosition","bottom",3,"value","containerStyle","numVisible","showIndicatorsOnItem","showIndicators","showThumbnails",4,"ngIf"],[3,"value","autoPlay","circular","numVisible","containerStyle",4,"ngIf"],["name","name",1,"my-3"],[1,"text-muted","mb-1"],["indicatorsPosition","bottom",3,"value","containerStyle","numVisible","showIndicatorsOnItem","showIndicators","showThumbnails"],["pTemplate","item"],["pTemplate","indicator"],[2,"width","100%","display","block",3,"routerLink","src"],[2,"background","white","padding","5px","border-radius","10px"],[2,"color","rgb(255, 51, 0)","cursor","pointer"],[3,"value","autoPlay","circular","numVisible","containerStyle"],["pTemplate","thumbnail"],[2,"width","100%",3,"src"],[1,"grid","grid-nogutter","justify-content-center"],[1,"img-fluid",3,"src"],[1,"col-lg-8"],["style","background-color: #eee;",4,"ngIf"],[1,"container","py-5"],[1,"col-md-12","col-lg-6","mb-4","mb-lg-3"],[1,"card"],[1,"d-flex","justify-content-center","p-3"],[1,"card-body"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684147431/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/eliminar_sy5tib.png","alt","Laptop",1,"card-img-top"],[1,"d-flex","justify-content-between","mt-4"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","justify-content-center","mb-2","mt-4"],[1,"btn","btn-danger",3,"click"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684229234/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/keys2_davhpg.png","alt","Laptop",1,"card-img-top"],[1,"d-flex","justify-content-center","mb-2"],[1,"btn","btn-primary",3,"routerLink"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684228767/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/purchase3_guebm3.png","alt","Laptop",1,"card-img-top"],[1,"d-flex","justify-content-between","mb-3","mt-4"],[1,"btn","btn-warning",3,"click"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684228297/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/change3_tui2fm.jpg","alt","Gaming Laptop",1,"card-img-top"],[1,"btn","btn-primary",3,"routerLink","click"]],template:function(n,t){1&n&&(e._UZ(0,"link",0)(1,"app-navbar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3"),e._uU(7,"VEH\xcdCULO"),e.qZA()(),e.TgZ(8,"div",5)(9,"h3"),e._uU(10,"OPCIONES DE VERIFICACIONES DE RENTING"),e.qZA()()(),e.TgZ(11,"div",3)(12,"div",6)(13,"div",7),e.YNc(14,D,15,5,"div",8),e.qZA()(),e.YNc(15,j,2,1,"div",9),e.qZA()()(),e.TgZ(16,"div",10),e._UZ(17,"app-footer"),e.qZA()),2&n&&(e.xp6(14),e.Q6J("ngIf",t.car),e.xp6(1),e.Q6J("ngIf",t.car))},dependencies:[h.O5,c.rH,Z.S,b.c,x.dz,T.jx]});var F=o(9758);const Y=function(){return["/cars/listCar"]};function H(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"section",3)(1,"button",4),e._uU(2,"Volver "),e.O4$(),e.TgZ(3,"svg",5),e._UZ(4,"path",6),e.qZA()(),e.kcU(),e.TgZ(5,"div",7)(6,"div",8)(7,"h2",9),e._uU(8,"Elige un plan de renting"),e.qZA(),e.TgZ(9,"div",10)(10,"div",11)(11,"div",12)(12,"p",13),e._uU(13,"12 meses sin intereses"),e.qZA(),e.TgZ(14,"div",14)(15,"p",15),e._uU(16,"1 a\xf1o"),e.qZA()()(),e._UZ(17,"img",16),e.TgZ(18,"div",17),e._UZ(19,"div",18),e.TgZ(20,"div",19)(21,"h5",20),e._uU(22),e.qZA(),e.TgZ(23,"h5",21),e._uU(24),e.qZA()(),e.TgZ(25,"div",22)(26,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.acceptRenting(12))}),e._uU(27,"Escoger plan"),e.qZA()()()()(),e.TgZ(28,"div",24)(29,"div",11)(30,"div",12)(31,"p",13),e._uU(32,"24 meses sin intereses"),e.qZA(),e.TgZ(33,"div",14)(34,"p",15),e._uU(35,"2 a\xf1os"),e.qZA()()(),e._UZ(36,"img",25),e.TgZ(37,"div",17),e._UZ(38,"div",18),e.TgZ(39,"div",19)(40,"h5",20),e._uU(41),e.qZA(),e.TgZ(42,"h5",21),e._uU(43),e.qZA()(),e.TgZ(44,"div",22)(45,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.acceptRenting(24))}),e._uU(46,"Escoger plan"),e.qZA()()()()(),e.TgZ(47,"div",24)(48,"div",11)(49,"div",12)(50,"p",13),e._uU(51,"48 meses sin intereses"),e.qZA(),e.TgZ(52,"div",14)(53,"p",15),e._uU(54,"4 a\xf1os"),e.qZA()()(),e._UZ(55,"img",26),e.TgZ(56,"div",17),e._UZ(57,"div",18),e.TgZ(58,"div",19)(59,"h5",20),e._uU(60),e.qZA(),e.TgZ(61,"h5",21),e._uU(62),e.qZA()(),e.TgZ(63,"div",22)(64,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.acceptRenting(48))}),e._uU(65,"Escoger plan"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(10,Y)),e.xp6(21),e.AsE("",t.car.name_exemplary.name_brand.name_brand,"- ",t.car.name_exemplary.name_exemplary,""),e.xp6(2),e.hij("",t.precioRenting,"\u20ac/mes"),e.xp6(17),e.AsE("",t.car.name_exemplary.name_brand.name_brand,"- ",t.car.name_exemplary.name_exemplary,""),e.xp6(2),e.hij("",t.precioRenting,"\u20ac/mes"),e.xp6(17),e.AsE("",t.car.name_exemplary.name_brand.name_brand,"- ",t.car.name_exemplary.name_exemplary,""),e.xp6(2),e.hij("",t.precioRenting48,"\u20ac/mes")}}class p{constructor(n,t,a,r,m){this.route=n,this.carService=t,this.shoppingService=a,this.authService=r,this.router=m,this.jwt=null}ngOnInit(){this.jwt=localStorage.getItem("Authorization");const n=this.route.snapshot.params.id;this.jwt&&(this.username=this.authService.returnUser(this.jwt),this.shoppingService.getRenting(n).subscribe({next:t=>{this.renting=t,this.car=t.num_bastidor,this.precioRenting=Math.round(this.car.price/2/24),this.precioRenting48=Math.round(this.car.price/2/48)}}))}acceptRenting(n){let t=n.toString(),a=this.renting.id.toString();this.shoppingService.updateRenting(a,this.username,t).subscribe({next:r=>{s().fire({icon:"success",title:"Gracias por su Renting!",text:"Estas de vuelta en el listado!"}),this.router.navigate(["/cars/listCar"])},error:r=>{s().fire({icon:"error",title:"Oops...",text:"No se ha podido realizar el Renting!",footer:'<a href="">Why do I have this issue?</a>'})}})}}p.\u0275fac=function(n){return new(n||p)(e.Y36(c.gz),e.Y36(_.y),e.Y36(f.s),e.Y36(F.e),e.Y36(c.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-renovation-cart"]],decls:5,vars:1,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],["style","background-color: #eee;",4,"ngIf"],[1,"separacion"],[2,"background-color","#eee"],["id","volver","name","volver","routerLinkActive","router-link-active",1,"btn","btn-danger","m-4",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-return-left"],["fill-rule","evenodd","d","M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"],[1,"container","py-5"],[1,"row"],[1,"mb-4"],[1,"col-md-12","col-lg-4","mb-4","mb-lg-0"],[1,"card"],[1,"d-flex","justify-content-between","p-3"],[1,"lead","mb-0"],[1,"bg-info","rounded-circle","d-flex","align-items-center","justify-content-center","shadow-1-strong",2,"width","45px","height","45px"],[1,"text-white","mb-0","small"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684140884/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/num12_de9r5g.png","alt","Laptop",1,"card-img-top"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","mb-3"],[1,"mb-0","mt-4"],[1,"text-dark","mb-0","mt-4"],[1,"d-flex","justify-content-center","mb-2","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"col-md-6","col-lg-4","mb-4","mb-md-0"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684140990/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/num24_bj25bs.png","alt","Laptop",1,"card-img-top"],["src","https://res.cloudinary.com/dpatneiyg/image/upload/v1684141201/Proyecto_JAVIERVILLARREAL/IMAGENES%20COCHES%20BASE%20DE%20DATOS/num48x2_yrzhz1.png","alt","Gaming Laptop",1,"card-img-top"]],template:function(n,t){1&n&&(e._UZ(0,"link",0)(1,"app-navbar"),e.YNc(2,H,66,11,"section",1),e.TgZ(3,"div",2),e._UZ(4,"app-footer"),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",t.car))},dependencies:[h.O5,c.rH,c.Od,Z.S,b.c]});const z=[{path:"",children:[{path:"",component:g},{path:"renovation/:id",component:p}]}];class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[c.Bz.forChild(z),c.Bz]});var G=o(4446),B=o(433),P=o(4466);class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[h.ez,u,G.M,P.m,B.u5,x.kT]})}}]);